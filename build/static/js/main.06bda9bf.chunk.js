(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{155:function(e,t,n){e.exports=n(334)},160:function(e,t,n){},334:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(66),i=n.n(c),s=(n(160),n(12)),l=n(13),u=n(15),o=n(14),h=n(16),m=n(96),f=n.n(m),p=n(154),d=n.n(p),v=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Home"),r.a.createElement("p",null,"A test application"))}}]),t}(a.Component),E=n(7),y=n.n(E),b=n(41),k=n(11),g=n(26),j=n.n(g),O=n(22),w=new j.a({apiKey:"keyUUvmGjuF42I8ER"}).base("appzkqyW5hg6lXcui"),S=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(o.a)(t).call(this,e))).state={isFetching:!1,persons:[]},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h2",null,"Person"),r.a.createElement("ul",null,this.state.persons.map(function(t){return r.a.createElement("li",{key:t.id},r.a.createElement("input",{type:"checkbox",defaultChecked:t.fields.Signed,onChange:function(){return e.handleChange(t.id)}}),r.a.createElement(O.b,{to:"/person/"+t.id},t.fields.Name))})),r.a.createElement("p",null,this.state.isFetching?"Fetching persons...":""))}},{key:"componentDidMount",value:function(){this.fetchPersons()}},{key:"componentWillUnmount",value:function(){}},{key:"handleChange",value:function(e){var t=this;this.setState(function(n){return{persons:n.persons.map(function(n){return n.id===e&&(n.fields.Signed=!n.fields.Signed,t.updatePerson(e,n.fields.Signed)),n})}})}},{key:"fetchPersons",value:function(){var e=Object(k.a)(y.a.mark(function e(){var t=this;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{this.setState({isFetching:!0}),w("Person").select({view:"Grid view",filterByFormula:'SEARCH("Coach", {Roles})'}).eachPage(function(e,n){t.setState({isFetching:!1,persons:e}),n()})}catch(n){this.setState(Object(b.a)({},this.state,{isFetching:!1}))}case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updatePerson",value:function(e,t){w("Person").update(e,{Signed:t},function(e,t){e&&console.error(e)})}}]),t}(a.Component),x=n(48),F=n.n(x),C=n(42),P=n.n(C),I=n(43),A=n.n(I),N=n(23),T=n.n(N),K=new j.a({apiKey:"keyUUvmGjuF42I8ER"}).base("appzkqyW5hg6lXcui"),U=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(o.a)(t).call(this,e))).fetchSessions=n.fetchSessionsAsync,n.state={isFetching:!1,sessions:[]},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(F.a,null,r.a.createElement(P.a,null,r.a.createElement(A.a,null,r.a.createElement("h2",null,"Sessions"),r.a.createElement(T.a,null,this.state.sessions.map(function(e){return r.a.createElement(T.a.Item,{key:e.id},r.a.createElement(O.b,{to:"/session/"+e.id},e.fields.Name))})),r.a.createElement("p",null,this.state.isFetching?"Fetching sessions...":""))))}},{key:"componentDidMount",value:function(){this.fetchSessions()}},{key:"componentWillUnmount",value:function(){}},{key:"fetchSessionsAsync",value:function(){var e=Object(k.a)(y.a.mark(function e(){var t=this;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{this.setState({isFetching:!0}),K("Session").select({view:"Grid view"}).eachPage(function(e,n){t.setState({isFetching:!1,sessions:e}),n()})}catch(n){console.log(n),this.setState(Object(b.a)({},this.state,{isFetching:!1}))}case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(a.Component),R=n(67),W=n(35),D=n(152),G=n.n(D),H=n(17),z=n.n(H),B=n(153),q=n.n(B),L=n(338),M=n(337),X=n(44),V=n.n(X),J=new j.a({apiKey:"keyUUvmGjuF42I8ER"}).base("appzkqyW5hg6lXcui"),Y=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(o.a)(t).call(this,e))).state={theme:null},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(y.a.mark(function e(){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchTheme(this.props.themeId);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.theme;return null==e?null:r.a.createElement(T.a.Item,null,e.fields.Name)}},{key:"fetchTheme",value:function(){var e=Object(k.a)(y.a.mark(function e(t){var n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this,e.next=3,J("Theme").find(t,function(e,t){e?console.error(e):n.setState({theme:t})});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(a.Component),$=new j.a({apiKey:"keyUUvmGjuF42I8ER"}).base("appzkqyW5hg6lXcui"),Q=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(o.a)(t).call(this,e))).state={activity:null},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(y.a.mark(function e(){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchActivity(this.props.activityId);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.activity;if(null==e)return null;var t=e.fields.Themes?e.fields.Themes:null,n=e.fields.Image?e.fields.Image[0].url:null;return r.a.createElement(V.a,{defaultActiveKey:"0"},r.a.createElement(z.a,null,r.a.createElement(V.a.Toggle,{as:z.a.Header,eventKey:"0"},e.fields.Name),r.a.createElement(V.a.Collapse,{eventKey:"0"},r.a.createElement(z.a.Body,null,null!=n?r.a.createElement(z.a.Img,{variant:"top",src:n}):null,r.a.createElement(z.a.Text,null,e.fields.Notes)))),r.a.createElement(z.a,null,r.a.createElement(V.a.Toggle,{as:z.a.Header,eventKey:"1"},"Themes"),r.a.createElement(V.a.Collapse,{eventKey:"1"},r.a.createElement(T.a,{variant:"flush"},null!=t?e.fields.Themes.map(function(e){return r.a.createElement(Y,{key:e,themeId:e})}):null))))}},{key:"fetchActivity",value:function(){var e=Object(k.a)(y.a.mark(function e(t){var n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this,e.next=3,$("Activity").find(t,function(e,t){e?console.error(e):n.setState({activity:t})});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(a.Component),Z=new j.a({apiKey:"keyUUvmGjuF42I8ER"}).base("appzkqyW5hg6lXcui"),_=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(o.a)(t).call(this,e))).inputValue="",n.changeInputHandler=function(e){n.inputValue=e.target.value,n.setState({newPerson:n.inputValue})},n.handleClick=function(e){n.createPerson(n.inputValue),n.setState({newPerson:""}),n.loadData()},n.state={isFetching:!1,session:null,persons:[],newPerson:"",activeTab:e.activeTab||1},n.handleSelect=n.handleSelect.bind(Object(W.a)(n)),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(y.a.mark(function e(){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.loadData();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"loadData",value:function(){var e=Object(k.a)(y.a.mark(function e(){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchSession(this.props.match.params.id);case 2:return e.next=4,this.fetchPersons();case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,n=this,a=this.state.session,c=this.state.persons;return null!=a&&(e=r.a.createElement(F.a,null,r.a.createElement(P.a,null,r.a.createElement(A.a,null,r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(z.a.Body,null,r.a.createElement(z.a.Title,null,a.fields.Name),r.a.createElement(z.a.Subtitle,{className:"mb-2 text-muted"},r.a.createElement(G.a,{format:"LLLL"},a.fields.Start)),r.a.createElement(z.a.Text,null,a.fields.Notes))))))),null!=a&&c.length>0&&(t=r.a.createElement(F.a,null,r.a.createElement(P.a,null,r.a.createElement(A.a,null,r.a.createElement("br",null),r.a.createElement(L.a,{activeKey:this.state.activeTab,onSelect:this.handleSelect},r.a.createElement(M.a,{eventKey:1,title:"Register"},r.a.createElement("br",null),r.a.createElement(T.a,null,r.a.createElement(T.a.Item,null,r.a.createElement("input",{value:this.state.newPerson,onChange:this.changeInputHandler,placeholder:"New person..."}),r.a.createElement(q.a,{variant:"primary",size:"sm",onClick:this.handleClick},"Add")),c.map(function(e){return r.a.createElement(T.a.Item,{key:e.id},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",defaultChecked:null!=a&&null!=a.fields.Attended&&a.fields.Attended.includes(e.id),onChange:function(){return n.handleChange(e.id,n.checked)}}),"\xa0",e.fields.Name))}))),r.a.createElement(M.a,{eventKey:2,title:"Activities"},r.a.createElement("br",null),r.a.createElement(P.a,null,a.fields.Activities.map(function(e){return r.a.createElement(A.a,{xs:6,key:e},r.a.createElement(Q,{activityId:e}),r.a.createElement("br",null))})))),r.a.createElement("br",null))))),r.a.createElement("div",null,r.a.createElement("div",null,e),r.a.createElement("div",null,t),r.a.createElement("p",null,this.state.isFetching?"Fetching data...":""))}},{key:"handleSelect",value:function(e){this.setState({activeTab:e})}},{key:"fetchSession",value:function(){var e=Object(k.a)(y.a.mark(function e(t){var n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this,e.next=3,Z("Session").find(t,function(e,t){e?console.error(e):n.setState({isFetching:!1,session:t})});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchPersons",value:function(){var e=Object(k.a)(y.a.mark(function e(){var t=this;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({isFetching:!0}),e.next=4,Z("Person").select({sort:[{field:"Name",direction:"asc"}],view:"Grid view"}).eachPage(function(e,n){t.setState({isFetching:!1,persons:e}),n()});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),this.setState(Object(b.a)({},this.state,{isFetching:!1}));case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e,t){var n=this.state.session,a=[];null!=n.fields.Attended&&(a=n.fields.Attended);var r=a.indexOf(e);r>=0?a.splice(r,1):a=a.concat(e),n.fields.Attended=a,this.setState(Object(R.a)({},n,n)),this.updateSession(n.id,a)}},{key:"createPerson",value:function(e){Z("Person").create({Name:e},function(e,t){e&&console.error(e)})}},{key:"updateSession",value:function(e,t){Z("Session").update(e,{Attended:t},function(e,t){e&&console.error(e)})}}]),t}(a.Component),ee=n(32),te=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(O.a,null,r.a.createElement("div",null,r.a.createElement(f.a,{bg:"dark",variant:"dark"},r.a.createElement(f.a.Brand,{href:"#home"},r.a.createElement("img",{alt:"",src:"/logo.svg",width:"30",height:"30",className:"d-inline-block align-top"})," RE:PLAY"),r.a.createElement(d.a,{className:"mr-auto"},r.a.createElement(O.b,{to:"/",className:"nav-link"}," Home "),r.a.createElement(O.b,{to:"/persons",className:"nav-link"},"Persons"),r.a.createElement(O.b,{to:"/sessions",className:"nav-link"},"Sessions"))),r.a.createElement(ee.c,null,r.a.createElement(ee.a,{exact:!0,path:"/",component:v}),r.a.createElement(ee.a,{path:"/persons",component:S}),r.a.createElement(ee.a,{path:"/sessions",component:U}),r.a.createElement(ee.a,{path:"/session/:id",component:_}))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(330),n(331);i.a.render(r.a.createElement(O.a,null,r.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[155,1,2]]]);
//# sourceMappingURL=main.06bda9bf.chunk.js.map